# evaluate llm (requirement)

## prompt模板：
````
【system prompt】:
你是一个良好的对话评价器。考虑用户与交互助手开展对话交互的场景，在对话中用户针对与自身相关的话题向交互助手寻求建议，交互助手则首先尝试推测用户的需求，随后尝试为用户提供符合其偏好的解决方案。现在给你同一个用户针对同一话题分别与两个不同的交互助手进行的对话，需要你按照我的要求对这两段对话中助手方面的回复效果进行比较和评价。
【user prompt】:
现在给你交互用户("user")的一些个性化信息，包括该用户的背景、性格、近期情境，以及该用户的当前需求与相关偏好。需要你根据给定的用户个性化信息，判断两个助手("assistant-1"/"assistant-2")各自与用户在交互时，针对用户需求所提出的解决方案符合用户偏好的程度。

# 用户个性化信息
## 用户背景
"""
{"name": "李晓风", "gender": "男", "age": 34, "occupation": "用户是一名销售经理，负责公司华东地区的业务拓展。他经常需要出差拜访客户，并参加各种行业展会和商务会议。尽管业绩压力较大，但他凭借出色的沟通能力和谈判技巧赢得了不少客户的信任。", "health status": "由于长期饮食不规律，用户的胃部健康状况较差，偶尔会出现胃痛症状。此外，频繁的应酬让他体重增加明显，这让他开始关注自己的身体健康。", "family members": "用户已婚并有一个5岁的儿子，但夫妻关系较为紧张，常因教育问题产生争执。他的父母住在老家，平时很少联系。", "hobbies": "工作占据了大部分时间，用户的业余生活相对单调。偶尔他会去健身房跑步，但这更多是为了缓解身体疲劳而非兴趣驱动。除此之外，他几乎没有其他特别的兴趣爱好。"}
"""

## 用户性格
"""
{"Openness": "medium", "Conscientiousness": "high", "Extraversion": "high", "Agreeableness": "low", "Neuroticism": "high"}
"""

## 用户近期情境
"""
"年底时，用户兑现了之前的承诺，带全家去郊外度假，这是近一年来第一次真正意义上的家庭旅行。旅途中，用户特别注意饮食选择，避免刺激性食物以防胃部疾病复发，同时也借此机会与妻子深入交流，进一步修复夫妻信任关系。回到家中，他为自己设定了新年目标，包括更规律的生活、更好的家庭关系以及更高的职业成就。为了丰富业余生活，用户还计划明年尝试学习一门乐器，以此培养多元化兴趣爱好。这一切都促使他下定决心，在新的一年里做出更多积极的改变。"
"""

## 用户当前需求与相关偏好
以下信息中，"requirement"是当前用户的具体需求描述；"general_preference"为相关需求类型下用户的总体偏好描述，分为"pos"和"neg"两部分，分别概括了该用户喜欢和不喜欢的方案类型；"candidate_solutions"中的"pos_list"和"neg_list"则分别列举了当前需求下符合和不符合用户偏好的各2条具体方案。
"""
{
    "requirement": "用户希望通过调整饮食结构和改善生活作息来降低胃部疾病复发的风险，并希望获得具体可行的健康管理建议。",
    "general_preference": {
        "pos": "用户倾向于接受医学权威推荐的胃部护理方案，例如按时服用药物、避免刺激性食物以及保持规律饮食时间。他更喜欢具体的行动指南，如随身携带健康零食以防饥饿引发胃痛。此外，他可能愿意使用提醒类应用程序帮助养成良好的饮食习惯，从而降低复发风险。",
        "neg": "用户会拒绝未经验证的偏方或实验性治疗方法，例如某些声称能迅速治愈胃病的保健品。他也可能对需要大幅改变生活方式的建议（如彻底戒酒）感到抵触，尤其是在涉及职业需求的情况下。此外，任何模糊不清或缺乏科学依据的建议都会让他失去信任感并予以否定。"
    },
    "candidate_solutions": {
        "pos_list": [
            "{"solution": "在出差或应酬时提前备好健康的零食，如坚果或全麦饼干，避免饥饿导致的暴饮暴食。", "feedback_reason": "该方案考虑到了用户经常出差和应酬的情境，并提供了具体的预防措施，能够有效降低胃痛复发的风险。"}",
            "{"solution": "每天定时进食，并尽量选择易消化、低刺激性的食物，例如小米粥或蒸煮的蔬菜。", "feedback_reason": "这一建议直接满足了用户对健康饮食的需求，且操作性强，易于融入日常生活，符合用户追求规律饮食的目标。"}"
        ],
        "neg_list": [
            "{"solution": "记录每日饮食内容及身体反应，通过观察找到最适合自己的饮食结构。", "feedback_reason": "虽然这一方法科学合理，但用户的工作性质使其难以持续跟踪细节，且过于繁琐的过程不符合其实用主义倾向。"}",
            "{"solution": "每周安排两天‘轻食日’，摄入富含膳食纤维的食物如燕麦和绿叶蔬菜，帮助调节胃肠功能。", "feedback_reason": "这种定期调整饮食的方式虽有益健康，但用户因职业需求和个人单调的生活习惯，可能会觉得难以长期坚持并感到不便。"}"
        ]
    }
}
"""

# 待评价的对话内容
以下为用户("user")分别与两个交互助手("assistant-1"/"assistant-2")进行交互的对话内容。需要你重点关注助手的回复效果。

## assistant-1
"""
- "user": "最近胃部感觉还好，但我想知道有没有什么办法可以更好地保护胃？"
- "assistant": "听起来您很关心自己的胃部健康，是不是因为最近工作压力大或者经常外出应酬，想找到一些方法来预防胃病的复发呢？"
- "user": "是的，我确实想找到一些方法来预防胃病复发，尤其是长期能坚持的饮食和作息调整。"
- "assistant": "我理解您希望找到一种长期有效的方法来预防胃病复发，可能也希望通过改善饮食和作息习惯来提高整体的生活质量吧？"
- "user": "您说得对，我确实希望通过改善饮食和作息来预防胃病复发，并提高生活质量。"
- "assistant": "您可以尝试每天规律进餐，并减少油腻食物的摄入，同时尽量选择自制健康便当替代外卖，这样既方便又健康。"
- "user": "自制健康便当听起来不错，但我经常出差，根本没时间准备，这方案对我来说不太现实。"
- "assistant": "考虑到您经常出差的情况，建议您可以随身携带一些健康零食，比如坚果混合包或全麦饼干，在无法按时用餐时及时补充能量。"
- "user": "这个建议不错，随身带点健康零食确实能帮我避免饿得太久引发胃痛。"
- "assistant": "很高兴您觉得这个建议有用，随身携带健康零食确实能帮助您更好地照顾自己的胃。"
"""

## assistant-2
"""
- "user": "最近胃部感觉还好，但我想知道有没有什么办法可以更好地保护胃？"
- "assistant": "您是不是最近饮食上比较注意了，比如减少了盐分的摄入？您可能是想了解一些更加具体的饮食习惯来更好地保护您的胃吧？"
- "user": "嗯，确实需要注意饮食，但我更想知道一些适合长期坚持的健康饮食方案，以及如何调整生活作息来保护胃。"
- "assistant": "您可能是希望找到一种既能满足日常营养需求，又不会给胃带来额外负担的饮食方案吧？"
- "user": "对，你说得没错，我确实需要这样的方案。"
- "assistant": "建议您可以尝试采用地中海式饮食，这种饮食方式富含蔬菜、水果、全谷物和健康脂肪，对胃部友好。同时，保持规律的作息时间，避免熬夜，这样有助于减少胃部不适。"
- "user": "地中海式饮食听起来不错，但对我来说操作起来可能有点复杂，我更需要一些简单直接的建议，比如定时进食和避免刺激性食物。"
- "assistant": "定时进食确实很重要，您可以尝试每天在固定时间吃三餐，并且尽量避免辛辣、油腻的食物。此外，细嚼慢咽也有助于减轻胃部负担。"
- "user": "按时吃饭和避免刺激性食物确实很实用，但我还需要一些更具体的建议来应对出差和应酬时的特殊情况。"
- "assistant": "您提到的出差和应酬时的情况确实需要特别注意，我会根据您的需求整理出更加具体的建议。"
"""

# 当前评价维度：偏好理解
在每段用户与助手的对话中，对话均围绕着用户的一个需求展开（即“用户当前需求与相关偏好”部分的"requirement"内容），助手和用户的交互过程包含助手对于用户需求的推测以及助手针对用户需求给出解决方案的过程。当前评价中要关注的维度是交互助手的“偏好理解”能力，具体说明如下：
1. 你需要重点关注用户个性化信息中“用户当前需求与相关偏好”部分，理解用户在当前需求下对于不同类型方案的偏好，进而判断助手在对话中给出的解决方案是否符合用户的个性化偏好。
2. 如果助手提出的方案与用户的正向偏好符合程度较高，则应该获得较高的分数；反之如果助手提出的方案不符合用户的正向偏好，甚至与用户的负向偏好（即不喜欢的方案类型）较为匹配，则应该赋予其较低的分数。
3. 在对话中，用户针对一些方案进行反馈的过程中可能会主动交代或表露出特定的偏好。在评价助手的偏好理解能力时，应优先关注在用户未表露出相关偏好的情况下助手提出的方案符合该偏好的情况，优先为该种情况赋予更高的分数。
4. 当前的评价应主要关注对话中助手为用户提出解决方案建议的部分，根据解决方案符合用户偏好的程度进行评价，无需关注助手推测和确认用户需求的部分。

# 评价要求及输出模板
## 评价要求
1. 结合输入中提供的用户个性化信息以及用户与两个助手的对话内容，遵循下面的json格式输出模板给出输出。你需要先给出对于两个助手回复效果的分析("analysis")，随后分别为两个助手打分("scores")，分数取值范围为1~10范围内的整数。
2. 在分析("analysis")部分，需要先分别用一段话分析两个助手的对话回复效果，随后给出整体的分析和比较。请注意：两个助手的名称("assistant-1"/"assistant-2")是随机分配给两个具体的交互助手的，即两个助手的出现顺序应该被认为是与助手的回复效果完全无关的，因此请确保避免两个助手的相对顺序对于你评价的影响。
3. 除要求的json格式输出外，不要输出任何其它内容，也不需要在json中添加注释进行额外说明。

## 输出模板
"""
{
    "analysis": { // 先分别用一段话分析两个助手的对话回复效果，随后给出整体的分析和比较
        "assistant-1": "...",
        "assistant-2": "...",
        "overall": "..."
    },
    "scores": { // 分数取值范围：1~10范围内的整数
        "assistant-1": <score>,
        "assistant-2": <score>
    }
}
"""

现在，请你按照评价要求和模板给出评价输出。
````